<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: theme.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: theme.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Manages the application's theme (day/night) based on user preference
 * or system setting using CSS custom properties.
 */
export default class ThemeManager {
  /**
   * Constructs a new ThemeManager instance.
   * @param {Class} Elements - The Elements class used to access DOM elements.
   */
  constructor(Elements) {
    this.el = new Elements().elements;
    this.init();
  }

  /**
   * Initializes the theme based on the user's system preference.
   * Sets the default value in the settings theme dropdown and applies the theme.
   */
  init() {
    if (
      window.matchMedia &amp;&amp;
      window.matchMedia("(prefers-color-scheme: dark)").matches
    ) {
      this.el.settingsTheme.value = "night";
      this.applyTheme("night");
    } else {
      this.el.settingsTheme.value = "day";
      this.applyTheme("day");
    }
  }

  /**
   * Applies the specified theme by updating CSS variables.
   * @param {'day' | 'night'} theme - The selected theme to apply.
   */
  applyTheme(theme) {
    if (theme === "night") {
      document.documentElement.style.setProperty(
        "--color-dark",
        "255, 255, 255",
      );
      document.documentElement.style.setProperty("--color-light", "10, 10, 20");
    } else {
      document.documentElement.style.setProperty("--color-dark", "10, 10, 20");
      document.documentElement.style.setProperty(
        "--color-light",
        "255, 255, 255",
      );
    }
  }

  /**
   * Handles the theme change form submission.
   * Extracts theme from the form data and applies it.
   * @param {SubmitEvent} event - The form submission event.
   */
  handleThemeChange(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const { theme } = Object.fromEntries(formData);
    this.applyTheme(theme);
    this.el.settingsOverlay.open = false;
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BookPreview.html">BookPreview</a></li><li><a href="module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#applyTheme">applyTheme</a></li><li><a href="global.html#authorDropdown">authorDropdown</a></li><li><a href="global.html#createBookElement">createBookElement</a></li><li><a href="global.html#createDropdown">createDropdown</a></li><li><a href="global.html#genreDropdown">genreDropdown</a></li><li><a href="global.html#handleThemeChange">handleThemeChange</a></li><li><a href="global.html#incrementPage">incrementPage</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#matches">matches</a></li><li><a href="global.html#page">page</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#resetPage">resetPage</a></li><li><a href="global.html#search">search</a></li><li><a href="global.html#showMore">showMore</a></li><li><a href="global.html#summaryCard">summaryCard</a></li><li><a href="global.html#updateShowMoreButton">updateShowMoreButton</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Apr 06 2025 16:16:03 GMT+0200 (South Africa Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
